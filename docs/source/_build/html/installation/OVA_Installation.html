
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>OVA Installation &#8212; ECS-CommunityEdition 3.2.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Island Installation" href="Island_Installation.html" />
    <link rel="prev" title="Standard Installation" href="Standard_Installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Island_Installation.html" title="Island Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Standard_Installation.html" title="Standard Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ECS-CommunityEdition 3.2.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ova-installation">
<h1>OVA Installation<a class="headerlink" href="#ova-installation" title="Permalink to this headline">¶</a></h1>
<p>The OVA installation assumes deployment in a network-isolated
environment. One clone of the OVA will become an install node. The ECS
deployment will then proceed from the install node.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Listed below are all necessary components for a successful ECS Community
Edition installation. If they are not met the installation will likely
fail.</p>
<div class="section" id="hardware-requirements">
<h3>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this headline">¶</a></h3>
<p>The installation process is designed to be performed from either a
dedicated installation node. However, it is possible, if you so choose,
for one of the ECS data nodes to double as the install node. The install
node will bootstrap the ECS data nodes and configure the ECS instance.
When the process is complete, the install node may be safely destroyed.
Both single node and multi-node deployments require only a single
install node.</p>
<p>The technical requirements for the installation node are minimal, but
reducing available CPU, memory, and IO throughput will adversely affect
the speed of the installation process:</p>
<ul class="simple">
<li><p>1 CPU Core</p></li>
<li><p>2 GB Memory</p></li>
<li><p>10 GB HDD</p></li>
<li><p>CentOS 7 Minimal installation (ISO- and network-based minimal
installs are equally supported)</p></li>
</ul>
<p>The minimum technical requirements for each ECS data node are:</p>
<ul class="simple">
<li><p>4 CPU Cores</p></li>
<li><p>16 GB Memory</p></li>
<li><p>16 GB Minimum system block storage device</p></li>
<li><p>104 GB Minimum additional block storage device in a raw,
unpartitioned state.</p></li>
<li><p>CentOS 7 Minimal installation (ISO- and network-based minimal
installs are equally supported)</p></li>
</ul>
<p>The recommended technical requirements for each ECS data node are:</p>
<ul class="simple">
<li><p>8 CPU Cores</p></li>
<li><p>64GB RAM</p></li>
<li><p>16GB root block storage</p></li>
<li><p>1TB additional block storage</p></li>
<li><p>CentOS 7.4 Minimal installation</p></li>
</ul>
<p>For multi-node installations each data node must fulfill these minimum
qualifications. The installer will do a pre-flight check to ensure that
the minimum qualifications are met. If they are not, the installation
will not continue.</p>
</div>
<div class="section" id="environmental-requirements">
<h3>Environmental Requirements<a class="headerlink" href="#environmental-requirements" title="Permalink to this headline">¶</a></h3>
<p>The following environmental requirements must also be met to ensure a
successful installation:</p>
<ul class="simple">
<li><p><strong>Network:</strong> All nodes, including install node and ECS data node(s),
must exist on the same IPv4 subnet. IPv6 networking <em>may</em> work, but
is neither tested nor supported for ECS Community Edition at this
time.</p></li>
<li><p><strong>Remote Access:</strong> Installation is coordinated via Ansible and SSH.
However, public key authentication during the initial authentication
and access configuration is not yet supported. Therefore, password
authentication must be enabled on all nodes, including install node
and ECS data node(s). <em>This is a known issue and will be addressed in
a future release</em></p></li>
<li><p><strong>OS:</strong> CentOS 7 Minimal installation (ISO- and network-based minimal
installs are equally supported)</p></li>
</ul>
</div>
<div class="section" id="all-in-one-single-node-deployments">
<h3>All-in-One Single-Node Deployments<a class="headerlink" href="#all-in-one-single-node-deployments" title="Permalink to this headline">¶</a></h3>
<p>A single node <em>can</em> successfully run the installation procedure on
itself. To do this simply input the node’s own IP address as the
installation node as well as the data node in the deploy.yml file.</p>
</div>
</div>
<div class="section" id="getting-started">
<h2>1. Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<div class="section" id="download-and-deploy-the-ova-to-a-vm">
<h3>1.1. Download and deploy the OVA to a VM<a class="headerlink" href="#download-and-deploy-the-ova-to-a-vm" title="Permalink to this headline">¶</a></h3>
<p>The OVA is available for download from <a class="reference external" href="https://github.com/EMCECS/ECS-CommunityEdition/releases">the release notes
page</a>.
Select the most recent version of the OVA for the best experience.</p>
</div>
<div class="section" id="deploy-a-vm-from-the-ova-and-adjust-its-resources-to-have-a-minimum-of">
<h3>1.2. Deploy a VM from the OVA and Adjust its resources to have a minimum of:<a class="headerlink" href="#deploy-a-vm-from-the-ova-and-adjust-its-resources-to-have-a-minimum-of" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>16GB RAM</p></li>
<li><p>4 CPU cores</p></li>
<li><p>(Optional) Increase vmdk from the minimum 104GB</p></li>
</ul>
</div>
<div class="section" id="clone-the-vm">
<h3>1.3. Clone the VM<a class="headerlink" href="#clone-the-vm" title="Permalink to this headline">¶</a></h3>
<p>Clone the VM you created enough times to reach the number of nodes
desired for your deployment. The minimum number of nodes for basic
functionality is one (1). The minimum number of nodes for erasure coding
replication to be enabled is four (4).</p>
</div>
<div class="section" id="collect-and-configure-networking-information">
<h3>1.4. Collect and Configure networking information<a class="headerlink" href="#collect-and-configure-networking-information" title="Permalink to this headline">¶</a></h3>
<p>Power on the VMs and collect their DHCP assigned IP addresses from the
vCenter client or from the VMs themselves</p>
<p>You may also assign static IP addresses by logging into each VM and
running <code class="docutils literal notranslate"><span class="pre">nmtui</span></code> to set network the network variables (IP, mask,
gateway, DNS, etc).</p>
<p>The information you collect in this step is crucial for step 2.</p>
</div>
</div>
<div class="section" id="creating-the-deployment-map-deploy-yml">
<h2>2. Creating The Deployment Map (<code class="docutils literal notranslate"><span class="pre">deploy.yml</span></code>)<a class="headerlink" href="#creating-the-deployment-map-deploy-yml" title="Permalink to this headline">¶</a></h2>
<p>Installation requires the creation of a deployment map. This map is
represented in a YAML configuration file called deploy.yml.</p>
<p>Below are steps for creating a basic deploy.yml. <strong>All fields indicated
below are required for a successful installation.</strong></p>
<ol class="arabic" start="0">
<li><p>Log into the first VM and run <code class="docutils literal notranslate"><span class="pre">videploy</span></code>.</p></li>
<li><p>Edit this deploy.yml file with your favorite editor on another
machine, or use <code class="docutils literal notranslate"><span class="pre">vi</span> <span class="pre">deploy.yml</span></code> on the install node. Read the
comments in the file and review the examples in the <code class="docutils literal notranslate"><span class="pre">examples/</span></code>
directory.</p></li>
<li><p>Top-level deployment facts (<code class="docutils literal notranslate"><span class="pre">facts:</span></code>)</p>
<ol class="arabic simple" start="0">
<li><p>Enter the IP address of the install node into the
<code class="docutils literal notranslate"><span class="pre">install_node:</span></code> field.</p></li>
<li><p>Enter into the <code class="docutils literal notranslate"><span class="pre">management_clients:</span></code> field the CIDR address/mask
of each machine or subnet that will be whitelisted in node’s
firewalls and allowed to communicate with ECS management API.</p></li>
</ol>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">10.1.100.50/32</span></code> is <em>exactly</em> the IP address.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">192.168.2.0/24</span></code> is the entire /24 subnet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0.0.0.0/0</span></code> represents the entire Internet.</p></li>
</ul>
</li>
<li><p>SSH login details (<code class="docutils literal notranslate"><span class="pre">ssh_defaults:</span></code>)</p>
<ol class="arabic simple" start="0">
<li><p>If the SSH server is bound to a non-standard port, enter that port
number in the <code class="docutils literal notranslate"><span class="pre">ssh_port:</span></code> field, or leave it set at the default
(22).</p></li>
<li><p>Enter the username of a user permitted to run commands as UID
0/GID 0 (“root”) via the <code class="docutils literal notranslate"><span class="pre">sudo</span></code> command into the
<code class="docutils literal notranslate"><span class="pre">ssh_username:</span></code> field. This must be the same across all nodes.</p></li>
<li><p>Enter the password for the above user in the <code class="docutils literal notranslate"><span class="pre">ssh_password:</span></code>
field. This will only be used during the initial public key
authentication setup and can be changed after. This must be the
same across all nodes.</p></li>
</ol>
</li>
<li><p>Node configuration (<code class="docutils literal notranslate"><span class="pre">node_defaults:</span></code>)</p>
<ol class="arabic simple" start="0">
<li><p>Enter the DNS domain for the ECS installation. This can simply be
set to <code class="docutils literal notranslate"><span class="pre">localdomain</span></code> if you will not be using DNS with this ECS
deployment.</p></li>
<li><p>Enter each DNS server address, one per line, into
<code class="docutils literal notranslate"><span class="pre">dns_servers:</span></code>. This can be what’s present in
<code class="docutils literal notranslate"><span class="pre">/etc/resolv.conf</span></code>, or it can be a different DNS server
entirely. This DNS server will be set to the primary DNS server
for each ECS node.</p></li>
<li><p>Enter each NTP server address, one per line, into
<code class="docutils literal notranslate"><span class="pre">ntp_servers:</span></code>.</p></li>
</ol>
</li>
<li><p>Storage Pool configuration (<code class="docutils literal notranslate"><span class="pre">storage_pools:</span></code>)</p>
<ol class="arabic simple" start="0">
<li><p>Enter the storage pool <code class="docutils literal notranslate"><span class="pre">name:</span></code>.</p></li>
<li><p>Enter each member data node’s IP address, one per line, in
<code class="docutils literal notranslate"><span class="pre">members:</span></code>.</p></li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">options:</span></code>, enter each block device reserved for ECS, one
per line, in <code class="docutils literal notranslate"><span class="pre">ecs_block_devices:</span></code>. All member data nodes of a
storage pool must be identical.</p></li>
</ol>
</li>
<li><p>Virtual Data Center configuration (<code class="docutils literal notranslate"><span class="pre">virtual_data_centers:</span></code>)</p>
<ol class="arabic simple" start="0">
<li><p>Enter each VDC <code class="docutils literal notranslate"><span class="pre">name:</span></code>.</p></li>
<li><p>Enter each member Storage Pool name, one per line, in <code class="docutils literal notranslate"><span class="pre">members:</span></code></p></li>
</ol>
</li>
<li><p>Optional directives, such as those for Replication Groups and users,
may also be configured at this time.</p></li>
<li><p>After completing the deploy.yml file to your liking, exit out of
<code class="docutils literal notranslate"><span class="pre">videploy</span></code> as you would the <code class="docutils literal notranslate"><span class="pre">vim</span></code> editor (ESC, :, wq, ENTER).
This will update the deploy.yml file.</p></li>
</ol>
<div class="section" id="more-on-deploy-yml">
<h3>More on deploy.yml<a class="headerlink" href="#more-on-deploy-yml" title="Permalink to this headline">¶</a></h3>
<p>If you need to make changes to your deploy.yml after bootstrapping,
there are two utilities for this.</p>
<ol class="arabic simple" start="0">
<li><p>The <code class="docutils literal notranslate"><span class="pre">videploy</span></code> utility will update the installed <code class="docutils literal notranslate"><span class="pre">deploy.yml</span></code>
file in place and is the preferred method.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">update_deploy</span></code> utility will update the installed
<code class="docutils literal notranslate"><span class="pre">deploy.yml</span></code> file with the contents of a different <code class="docutils literal notranslate"><span class="pre">deploy.yml</span></code>
file.</p></li>
</ol>
<p>See the [utilties][utilities] document for more information on these and
other ECS CE utilities.</p>
<p>For more information on deploy.yml, please read the reference guide
found <a class="reference external" href="deploy.yml.md">here</a>.</p>
</div>
</div>
<div class="section" id="deploying-ecs-nodes-ova-step1">
<h2>4. Deploying ECS Nodes (<code class="docutils literal notranslate"><span class="pre">ova-step1</span></code>)<a class="headerlink" href="#deploying-ecs-nodes-ova-step1" title="Permalink to this headline">¶</a></h2>
<p>Once the deploy.yml file has been correctly written and the install node
rebooted if needed, then the next step is to simply run <code class="docutils literal notranslate"><span class="pre">ova-step1</span></code>.</p>
<p>After the installer initializes, the EMC ECS license agreement will
appear on the screen. Press <code class="docutils literal notranslate"><span class="pre">q</span></code> to close the screen and type <code class="docutils literal notranslate"><span class="pre">yes</span></code>
to accept the license and continue or <code class="docutils literal notranslate"><span class="pre">no</span></code> to abort the process. The
install cannot continue until the license agreement has been accepted.</p>
</div>
<div class="section" id="deploying-ecs-topology-ova-step2">
<h2>5. Deploying ECS Topology (<code class="docutils literal notranslate"><span class="pre">ova-step2</span></code>)<a class="headerlink" href="#deploying-ecs-topology-ova-step2" title="Permalink to this headline">¶</a></h2>
<p><em>If you would prefer to manually configure your ECS topology, you may
skip this step entirely.</em></p>
<p>Once <code class="docutils literal notranslate"><span class="pre">ova-step1</span></code> has completed, you may then direct the installer to
configure the ECS topology by running <code class="docutils literal notranslate"><span class="pre">ova-step2</span></code>. Once <code class="docutils literal notranslate"><span class="pre">ova-step2</span></code>
has completed, your ECS will be ready for use.</p>
<p>Assuming all went well, you now have a functioning ECS Community Edition
instance and you may now proceed with your test efforts.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">OVA Installation</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li><a class="reference internal" href="#hardware-requirements">Hardware Requirements</a></li>
<li><a class="reference internal" href="#environmental-requirements">Environmental Requirements</a></li>
<li><a class="reference internal" href="#all-in-one-single-node-deployments">All-in-One Single-Node Deployments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-started">1. Getting Started</a><ul>
<li><a class="reference internal" href="#download-and-deploy-the-ova-to-a-vm">1.1. Download and deploy the OVA to a VM</a></li>
<li><a class="reference internal" href="#deploy-a-vm-from-the-ova-and-adjust-its-resources-to-have-a-minimum-of">1.2. Deploy a VM from the OVA and Adjust its resources to have a minimum of:</a></li>
<li><a class="reference internal" href="#clone-the-vm">1.3. Clone the VM</a></li>
<li><a class="reference internal" href="#collect-and-configure-networking-information">1.4. Collect and Configure networking information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-the-deployment-map-deploy-yml">2. Creating The Deployment Map (<code class="docutils literal notranslate"><span class="pre">deploy.yml</span></code>)</a><ul>
<li><a class="reference internal" href="#more-on-deploy-yml">More on deploy.yml</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deploying-ecs-nodes-ova-step1">4. Deploying ECS Nodes (<code class="docutils literal notranslate"><span class="pre">ova-step1</span></code>)</a></li>
<li><a class="reference internal" href="#deploying-ecs-topology-ova-step2">5. Deploying ECS Topology (<code class="docutils literal notranslate"><span class="pre">ova-step2</span></code>)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Standard_Installation.html"
                        title="previous chapter">Standard Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Island_Installation.html"
                        title="next chapter">Island Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/installation/OVA_Installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Island_Installation.html" title="Island Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="Standard_Installation.html" title="Standard Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">ECS-CommunityEdition 3.2.2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Dell-EMC.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.0.
    </div>
  </body>
</html>